{% extends 'base-auth.html' %}

{% block content %}
<main class="s-form-page">
  <form action="" method="post" class="s-form s-form--login">
    <h1> Tapis Authorization - Tenant {{ tenant_id }}</h1>
    <p> You are logged in as user {{ username }}. The client application {{ client_display_name }} is requesting a Tapis
        access token on your behalf.</p>

    {% if error %}
    <ul>
        <li>Error: {{ error }}</li>
    </ul>
    {% endif %}

     <div class="has-required">
        <label>
          {% if device_login %}
          <label for="ttl">Time for token to live in days (default: 30)</label>
          <input type="text" id="ttl" name="ttl">
          {% endif %}
          <input type="checkbox" checked="checked" name="approve"> Approve
            <input type="hidden" name="client_id" value="{{ client_id }}">
            <input type="hidden" name="client_redirect_uri" value="{{ client_redirect_uri }}">
            <input type="hidden" name="client_display_name" value="{{ client_display_name }}">
            <input type="hidden" name="client_state" value="{{ client_state }}">
            <input type="hidden" name="client_response_type" value="{{ client_response_type }}">
            {% if user_code is not none %}
            <input type="hidden" name="user_code" value="{{ user_code }}">
            {% endif %}
        </label>
     </div>
     <footer>
        <button type="submit">Submit</button>
     </footer>
  </form>
</main>
{% endblock %}
